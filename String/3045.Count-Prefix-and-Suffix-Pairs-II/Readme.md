### 3045.Count-Prefix-and-Suffix-Pairs-II

对于一对pair里的两个字符串而言，前者是后者的一部分，所以我们必然需要先处理后者。故我们需要从后往前遍历字符串。

对于一个字符串s，要使得其他字符串既是它的前缀，也是它的后缀，这是一个比较苛刻的条件。我们很容易联想到KMP算法，可以用线性的时间就能找到s里的所有符合条件的子串（参考`LeetCode 3031 Minimum Time to Revert Word to Initial State II`）。对于这些子串（字符串的“前缀&后缀”），我们必然会将其放入一棵字典树里。这样，对于其他字符串t，我们可以通过搜索字典树进行匹配，从而得知t同时是多少字符串的“前缀&后缀”。

在字典树的数据结构里，我们会给每个节点标记count。任何需要填入字典树的子串，我们都会在其路径的最后一个节点的count增1. 对于待查询的字符串t，如果它与字典树里的某个路径匹配，那么该路径的最后一个节点的count就代表了t能配对的字符串的数量。
